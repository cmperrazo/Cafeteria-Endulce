<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cafeter√≠a Endulce - Seleccionar Mesa</title>
    <link rel="stylesheet" href="css/estilos-cliente.css">
</head>
<body>
    <div class="slideshow-background">
       <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?q=80&w=2070&auto=format&fit=crop');"></div>
    <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1447933601403-0c6688de566e?q=80&w=1961&auto=format&fit=crop');"></div>
    <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1554118811-1e0d58224f24?q=80&w=2047&auto=format&fit=crop');"></div>
    </div>
    <div class="container">
        <!-- Header del Restaurante -->
        <header class="header">
            <div class="logo-container">
                <div class="logo-circle">‚òï</div>
                <h1>Cafeter√≠a Endulce</h1>
                <p class="tagline">El arte de endulzar el momento</p>
            </div>
        </header>

        <!-- Pantalla de Selecci√≥n de Mesa -->
        <div id="mesa-selection" class="mesa-section">
            <h2>Bienvenido/a</h2>
            <p class="instruction">Escanea el c√≥digo QR de tu mesa o selecciona el n√∫mero:</p>
            
            <div class="mesa-grid">
                <!-- Las mesas se generar√°n din√°micamente con JavaScript -->
            </div>

            <div class="help-text">
                <p>üí° Escanea el c√≥digo QR de tu mesa para un acceso m√°s r√°pido</p>
            </div>
        </div>

        <!-- Pantalla del Men√∫ (oculta inicialmente) -->
        <div id="menu-view" class="menu-section" style="display: none;">
            <div class="mesa-info">
                <span class="mesa-badge">Mesa <span id="current-mesa">-</span></span>
                <button class="btn-change-mesa" onclick="returnToMesaSelection()" title="Cambiar de mesa">
                    üîÑ Cambiar Mesa
                </button>
                <span class="session-timer" id="session-timer">Tiempo: 00:00</span>
            </div>

            <div class="tabs">
                <button class="tab active" data-tab="especialidades">
                    ‚≠ê Especialidades
                </button>
                <button class="tab" data-tab="menu-dia">
                    üìÖ Men√∫ del D√≠a
                </button>
            </div>

            <!-- Especialidades de la Casa -->
            <div id="especialidades" class="tab-content active">
                <h3>Especialidades de la Casa</h3>
                <div class="menu-items" id="especialidades-list">
                    <!-- Generado din√°micamente -->
                </div>
            </div>

            <!-- Men√∫ del D√≠a -->
            <div id="menu-dia" class="tab-content">
                <h3>Men√∫ del D√≠a</h3>
                <p class="menu-dia-date" id="menu-dia-date"></p>
                <div class="menu-items" id="menu-dia-list">
                    <!-- Generado din√°micamente -->
                </div>
            </div>

            <!-- Carrito Flotante -->
            <div class="cart-float" id="cart-float" onclick="openCart()">
                üõí <span id="cart-count">0</span>
                <span class="cart-total">$<span id="cart-total">0.00</span></span>
            </div>
        </div>

        <!-- Modal del Carrito -->
        <div id="cart-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>üõí Tu Pedido</h2>
                    <button class="close-modal" onclick="closeCart()">&times;</button>
                </div>
                
                <div class="cart-items" id="cart-items">
                    <!-- Items del carrito -->
                </div>

                <div class="cart-summary">
                    <div class="summary-row">
                        <span>Subtotal:</span>
                        <span>$<span id="summary-total">0.00</span></span>
                    </div>
                    <div class="summary-row total">
                        <span>Total:</span>
                        <span>$<span id="summary-final">0.00</span></span>
                    </div>
                </div>

                <div class="cart-actions">
                    <button class="btn-secondary" onclick="closeCart()">Seguir Comprando</button>
                    <button class="btn-primary" onclick="confirmOrder()" id="confirm-order-btn">
                        Confirmar Pedido
                    </button>
                </div>
            </div>
        </div>

        <!-- Modal de Confirmaci√≥n de Pedido -->
        <div id="order-status-modal" class="modal">
            <div class="modal-content status-modal">
                <div class="status-icon">‚è≥</div>
                <h2>Pedido Enviado</h2>
                <p>Tu pedido ha sido enviado a la cocina</p>
                <p class="status-description">Esperando confirmaci√≥n del mesero...</p>
                
                <div class="order-details" id="order-details">
                    <!-- Detalles del pedido -->
                </div>

                <div class="order-actions" id="order-actions">
                    <button class="btn-warning" onclick="editOrder()" id="edit-order-btn">
                        ‚úèÔ∏è Modificar Pedido
                    </button>
                    <button class="btn-danger" onclick="cancelOrder()" id="cancel-order-btn">
                        üóëÔ∏è Cancelar Pedido
                    </button>
                </div>
                
                <div style="margin-top: 1rem; padding: 0 1rem;">
                    <button class="btn-secondary full-width" onclick="closeOrderStatusAndContinue()">
                        üçΩÔ∏è Volver al Men√∫
                    </button>
                </div>

                <p class="help-note">
                    üí° Puedes modificar tu pedido antes de que el mesero lo confirme
                </p>
            </div>
        </div>

        <!-- Modal de Pago -->
        <div id="payment-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>üí≥ Solicitar Cuenta</h2>
                    <button class="close-modal" onclick="closePaymentModal()">&times;</button>
                </div>
                
                <div class="payment-summary">
                    <h3>Resumen de Consumo</h3>
                    <div id="payment-items"></div>
                    <div class="payment-total">
                        <strong>Total a Pagar:</strong>
                        <strong>$<span id="payment-amount">0.00</span></strong>
                    </div>
                </div>

                <div class="payment-info">
                    <p>üì¢ Se ha notificado al mesero</p>
                    <p>El mesero verificar√° tu pedido y procesar√° el pago</p>
                </div>

                <button class="btn-primary full-width" onclick="requestBill()">
                    Solicitar Cuenta
                </button>
            </div>
        </div>

        <!-- Notificaciones Toast -->
        <div id="toast-container"></div>
    </div>

    <script src="js/app.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/cliente-logica.js"></script>
</body>
</html>